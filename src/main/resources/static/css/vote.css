/* ================= 基本：暗場景 + 柔光 ================= */
:root{
  --ink:#171a1d;
  --paper:#8a6b3a;       /* 羊皮紙主色 */
  --paper-dark:#4a3a25;  /* 深邊緣/陰影 */
  --gold:#d8c49b;        /* 柔金色字（降亮度） */
  --paper-ink:#e5d7b2;   /* 紙上墨色 */
}

body{
  margin:0; padding:0;
  height:100vh;
  font-family:"IM Fell English","Cinzel",Georgia,serif;
  color:var(--paper-ink);
  background:url('/images/test.jpg') center/cover no-repeat;
  position:relative;
}
/* 舞台聚光，讓中間更亮，四周自然吃暗 */
body::before{
  content:""; position:absolute; inset:0;
  background:
    radial-gradient(60% 55% at 50% 38%, rgba(0,0,0,0) 0%, rgba(0,0,0,.55) 100%);
  pointer-events:none;
  z-index:0;
}

#vote-container{
  position:relative; z-index:1;
  background:transparent;
  padding:26px 56px 24px;
  text-align:center;
}

/* ===== 標題：柔金浮雕 ===== */
h1{
  margin:22px 0 16px;
  font-family:"Cinzel","IM Fell English",serif;
  font-weight:800;
  font-size:64px;
  letter-spacing:2px;
  color:var(--gold);
  text-shadow:
    0 1px 0 rgba(0,0,0,.65),
    0 3px 6px rgba(0,0,0,.35);
}

/* ================= 卡牌 ================= */
.expedition{
  display: grid;
  align-content: center;
  justify-items: center;
  gap: 34px;
}

.exp-card{
  position:relative;
  width:260px; aspect-ratio:3/4;
  display:flex; flex-direction:column; align-items:center;
  padding:14px 14px 12px;
  border-radius:12px;
  background:none;
  box-shadow:none;
  outline:none;
}
.exp-card::after{ display:none; }

.avatar-wrapper{
  position:relative;
  margin-top:0;
  width:68%;
  display:grid; 
  place-items:center;
  background:transparent;
  border-radius:0;
  overflow:visible;
  -webkit-mask-image:none;
          mask-image:none;
}
.avatar-wrapper::before,
.avatar-wrapper::after{ display:none; }

.avatar-wrapper img{
  width:100%;
  height:auto;
  object-fit:contain;
  border-radius:0;
  opacity:0.96;
  box-shadow:none;
}

.exp-name{
  margin-top:8px;
  margin-bottom:4px;
  font-size:18px;
  font-weight:700;
  letter-spacing:.3px;
  color:var(--paper-ink);
  text-shadow:0 1px 0 rgba(0,0,0,.55), 0 2px 6px rgba(0,0,0,.28);
}

/* ================= 右上角計時 ================= */
#timer{
  position:fixed; top:18px; right:26px; z-index:10;
  font-family:"IM Fell English",serif; font-size:18px;
  padding:8px 12px; color:var(--paper-ink);
  background:rgba(24,21,18,.58);
  border:1px solid rgba(0,0,0,.5);
  border-radius:10px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.05), 0 4px 16px rgba(0,0,0,.45);
}

.hidden{ display:none; }

/* ================= 紙面與版位 ================= */
#paper-board{
  position: fixed !important;
  margin: 0 !important;
  left: 0; top: 0; width: 0; height: 0;
  z-index: 2;
}
#board-title{
  position: absolute;
  left: 20.732%;
  top:  7.118%;
  width: 58.885%;
  height: 21.181%;
  margin: 0;
  display: grid;
  place-items: center;
}

/* 頭貼容器絕對定位 */
#expedition-container{ position: absolute; }

/* 2、3、4 人版統一成單排置中 */
#paper-board.count-2 #expedition-container,
#paper-board.count-3 #expedition-container,
#paper-board.count-4 #expedition-container{
  left: 12%;
  top:  52%;
  width: 76%;
  height: 28%;
}
#paper-board.count-2 .expedition{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
#paper-board.count-3 .expedition{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
#paper-board.count-4 .expedition{ grid-template-columns: repeat(4, minmax(0, 1fr)); }

#paper-board.count-2 .exp-card,
#paper-board.count-3 .exp-card,
#paper-board.count-4 .exp-card{
  width: clamp(150px, 14vw, 220px);
}

/* 5 人版單排 */
#paper-board.count-5 #expedition-container{
  left: 8%;
  top:  52%;
  width: 84%;
  height: 28%;
}
#paper-board.count-5 .expedition{
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: clamp(12px, 2.4vw, 28px);
}
#paper-board.count-5 .exp-card{ width: clamp(130px, 11.5vw, 200px); }

/* ================= 底部容器（避免重疊） ================= */
/* 只定位這一層；裡面用正常流垂直排，就不會互蓋 */
#vote-bottom{
  position: absolute;
  left: 12%;
  top: 88%;                 /* 覺得太高/太低可微調 86%~90% */
  width: 76%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;                 /* 元素間距，避免碰撞 */
}

/* 按鈕列：正常流 */
#vote-buttons{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
#vote-buttons button{
  flex: 0 0 28%;
  padding:10px 24px;
  font-size:18px;
  font-weight:600;
  cursor:pointer;
  border-radius:10px;
  border:1px solid rgba(0,0,0,.35);
  background:var(--paper);
  mix-blend-mode:multiply;
  filter:brightness(.92) contrast(.95) sepia(.25);
  color:var(--paper-ink);
  text-shadow:0 1px 0 rgba(0,0,0,.5);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.06),
    0 3px 8px rgba(0,0,0,.35);
  transition:transform .08s ease, filter .18s ease;
}
#vote-buttons button:hover{
  transform:translateY(-1px) scale(1.01);
  filter:brightness(.97) contrast(.98) sepia(.25);
}
#vote-buttons button.selected{ outline:2px solid rgba(236,210,140,.45); }
#agree-btn, #reject-btn, #confirm-btn{ background:var(--paper); }

/* 結果：正常流 */
#vote-result{
  text-align:center;
}
#vote-result p{
  margin: 2px 0 0;
  font-size: 18px;
  color: var(--paper-ink);
}

/* 狀態：正常流（顯示「你已完成投票…」等） */
#status{
  margin: 0;
  font-size: 16px;
  text-align: center;
  color: var(--paper-ink);
  opacity: .95;
}

/* ================= 可選：不同人數微調底部容器高度 ================= */
/* 需要微調時再開啟
#paper-board.count-5 #vote-bottom{ top: 86%; }
*/
